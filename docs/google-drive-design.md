---
title: "Google 共有ドライブ設計論"
---

## はじめに
Google ドライブの共有ドライブ利用されていますか。
とても便利なサービスですが、Windows Server のファイルサービスのつもりで設計してハマったことがありました。
ハマらないポイントは、Google ドライブの設計理念に従うことです。

## 重要なポイント
「[共有ドライブとは](https://support.google.com/a/answer/7212025)」全ては公式のこのドキュメントに詰まっています。熟読しましょう。特に差異の大きいポイントを紹介します。

### 共有ドライブのフォルダに共有権限を設定できない
管理者、コンテンツ管理者、投稿者のメンバーは、共有ドライブ内のファイルを共有できます。

ファイルは Google アカウントを持っているユーザー間でのみ共有できます。
共有ドライブに保存されているフォルダを共有することはできません。
マイドライブと異なり、共有設定はファイル単位のみのため、下位フォルダに権限を継承したりできません。

### Google のベストプラクティスは共有権限ごとに共有ドライブを作る
プロジェクトごとに共有ドライブを作成し、すべてのチームメンバーに最も高いアクセスレベル（フルアクセス権など）を割り当てます。

これを知らずに、Windows Server のファイルサービスと同じように階層で権限継承できると考えていると失敗します。
権限が分離される組織は共有ドライブも分離しましょう。

## 共有ドライブに移行する理由
以下の 2 点が大きいメリットだと感じています。

### ファイルを個人ではなくチームや組織が所有できる
従業員が離職してアカウントが削除されても、ファイルは共有ドライブ内に残ります。

### フォルダ・ファイルの管理をみんなで改善できる
共有ドライブのすべてのメンバーに同じコンテンツが同じ権限で表示されます。

## 共有フォルダ設計
みなさんは共有フォルダの設計はどのように行うでしょうか。
ここでは、閲覧者と設計観点を洗い出してみました。

### 閲覧者
#### 個人
マイドライブ、共有ドライブの個人フォルダを使います。

#### 機密関係者（プロジェクト、チーム、部門、役員、正社員）
機密関係者チームごとに共有ドライブを作ります。
Google グループ単位で共有ドライブの権限を割り当てるのがおすすめです。
これにより、メンバーの変更が少し楽になるとともに、Google Cloud Platform の権限チームを使いまわせます。

#### 社内
一番大きな権限単位の共有ドライブを作ります。
個人フォルダを含め、みんなで共有して良い情報は可能なかぎり、ここに置きます。

#### 社外を含む機密関係者
これも別途、共有ドライブを作ります。Gmail アドレスのみ招待可能なため、そうでない場合は別途作ってもらう必要があります。

### 設計観点
#### grep しやすくする
API から検索できることで最大限に活用していただきたいので、重要な観点です。
補完が効きやすいように、フォルダやファイル名は半角スペースやハイフンを避けて、アンダースコアを利用します。
共有ドライブ間でも、ある程度またいで検索ができるようにテンプレートを用意するのも良いでしょう。

#### MECE にする
あまり重複範囲が大きい切り方は乱立の元になるため、好ましくないです。
権限の切り分け時にはやむを得ないですが、全社共有ドライブは MECE になるように意識して切り分けます。
部門フォルダで部門を切り、個人フォルダで個人を切り、案件フォルダで案件を切るようにしましょう。

#### 階層は浅くしたい
Google ドライブの検索は強力です。整理のために深くしすぎるより、ファイル名をちゃんと考える方が有効です。
ここも Windows Server のファイルサービスとギャップがありますが、慣れましょう。意識してファイル名をつけるように全社に布教していきましょう。

#### 期中のディレクトリ追加に対応したい
ソートするための連番文化がある場合には、最上位 99 や最下位 00 を空けておき、埋まったら棚卸しの際に再設計しましょう。
Google ドライブの検索機能に任せて、連番文化をやめるのも一案です。


## 引っ掛かりやすい制約事項
### 共有ドライブに保存できるファイルとフォルダは 400,000 個まで
超大量の個数のデータがある場合には、Cloud Storage を利用しましょう。

### 個々のユーザーがマイドライブおよびすべての共有ドライブにアップロードできるのは、1 日あたり 750 GB まで
超大量の容量のデータがある場合には、Cloud Storage を利用しましょう。

### 共有ドライブ内のフォルダは、最大 20 レベルのネストまで
設計を見直しましょう。ファイル名が正しくついていれば、フォルダで階層化しなくて良いケースもあります。

## おわりに
具体的な設計は組織に依るため省略しますが、この観点で設計すれば大きく失敗することはないでしょう。
効率的な共有ドライブ設計ができたら、ぜひ教えてください。
